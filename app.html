<!-- =================================================================== -->
<!-- /app.html  — HOME MENU (with SW auto-update register)               -->
<!-- =================================================================== -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>WELDERS HELPER — APP</title>
  <meta name="theme-color" content="#0A0F1A" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-180.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32.png" />
  <style>
    :root{--bg:#0A0F1A;--card:#101826;--border:#223046;--fg:#E6EAF0;--muted:#8FA3BD;--accent:#26D07C}
    *{box-sizing:border-box} html,body{height:100%;margin:0}
    body{background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{position:sticky;top:0;background:#0C1320CC;backdrop-filter:blur(6px);border-bottom:1px solid var(--border)}
    .nav{display:flex;gap:12px;align-items:center;padding:12px 16px;max-width:1080px;margin:0 auto}
    .brand{font-weight:900;letter-spacing:.02em}
    main{max-width:1080px;margin:24px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
    .tile{
      display:block;background:var(--card);border:1px solid var(--border);
      border-radius:16px;padding:18px 16px;text-decoration:none;color:var(--fg);
      font-weight:900;letter-spacing:.04em;text-transform:uppercase;
    }
    .tile:hover{outline:2px solid var(--accent)}
    .sub{display:block;color:var(--muted);font-size:12px;margin-top:6px;text-transform:none}
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <a class="tile" href="index.html" style="padding:8px 12px;border-radius:10px">← HOME</a>
      <div class="brand">WELDERS HELPER</div>
    </nav>
  </header>

  <main>
    <div class="grid">
      <a class="tile" href="jobs.html">JOBS
        <span class="sub">CREATE • OPEN • EXPORT PER JOB</span>
      </a>
      <!-- Keep if you want direct access; Jobs is recommended entry -->
      <!-- <a class="tile" href="receiving.html">RECEIVING REPORTS
        <span class="sub">DIRECT ACCESS (USE JOBS FOR PER-JOB)</span>
      </a> -->
      <a class="tile" href="lookup.html">P# LOOKUP
        <span class="sub">COMING SOON</span>
      </a>
      <a class="tile" href="#" onclick="alert('INVENTORY — COMING SOON');return false;">INVENTORY</a>
      <a class="tile" href="#" onclick="alert('WELD MAPS — COMING SOON');return false;">WELD MAPS</a>
      <a class="tile" href="#" onclick="alert('SETTINGS — COMING SOON');return false;">SETTINGS</a>
    </div>
  </main>

  <script>
  // SW auto-update + one-time reload (prevents stale bundles)
  (async () => {
    if (!('serviceWorker' in navigator)) return;
    try {
      const reg = await navigator.serviceWorker.register('service_worker.js');
      reg.update?.();
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        if (!window.__swReloadOnce) { window.__swReloadOnce = true; location.reload(); }
      });
    } catch (e) { console.error('SW registration failed', e); }
  })();
  </script>
</body>
</html>
