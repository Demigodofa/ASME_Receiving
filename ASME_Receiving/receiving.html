<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Welders Helper — Receiving Reports</title>
  <meta name="theme-color" content="#101828" />
  <link rel="manifest" href="manifest.webmanifest" />
  <style>
    :root{--bg:#0b1120;--card:#111827;--border:#1f2937;--fg:#e5e7eb;--muted:#94a3b8;--accent:#22c55e;--warn:#f59e0b;--danger:#ef4444}
    *{box-sizing:border-box} html,body{height:100%;margin:0}
    body{background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    header{background:#111827;border-bottom:1px solid var(--border)}
    .nav{display:flex;gap:10px;align-items:center;padding:10px 16px;max-width:1080px;margin:0 auto}
    .brand{font-weight:800} main{max-width:1080px;margin:24px auto;padding:0 16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;margin-bottom:16px}
    .row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
    label{font-weight:600;font-size:14px} input,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0f172a;color:var(--fg)}
    textarea{min-height:80px;resize:vertical}
    .btn{border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;background:#1f2937;color:var(--fg)}
    .btn.primary{background:var(--accent);color:#052e16} .btn.warn{background:var(--warn);color:#111827} .btn.danger{background:var(--danger)}
    table{width:100%;border-collapse:collapse;margin-top:10px} th,td{border-bottom:1px solid var(--border);padding:8px;text-align:left;font-size:14px}
    th{font-size:12px;text-transform:uppercase;letter-spacing:.04em;color:var(--muted)}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#0f172a;border:1px solid var(--border);font-size:12px}
    .empty{color:var(--muted);text-align:center;padding:16px}
  </style>
</head>
<body>
  <header>
    <nav class="nav">
      <a class="btn" href="app.html">← Back</a>
      <div class="brand">Receiving Reports</div>
    </nav>
  </header>
  <main>
    <section class="card">
      <div class="row">
        <div><label>Date*</label><input id="date" type="date"></div>
        <div><label>PO #*</label><input id="po" type="text"></div>
        <div><label>Part/Spec</label><input id="part" type="text"></div>
        <div><label>Heat #</label><input id="heat" type="text"></div>
        <div><label>Quantity*</label><input id="qty" type="number" min="0"></div>
        <div><label>Received By</label><input id="recvBy" type="text"></div>
        <div style="grid-column:1/-1"><label>Notes</label><textarea id="notes"></textarea></div>
      </div>
      <button class="btn primary" id="saveBtn">Save</button>
    </section>
    <section class="card">
      <table id="table">
        <thead><tr><th>ID</th><th>Date</th><th>PO</th><th>Part</th><th>Heat</th><th>Qty</th><th>By</th></tr></thead>
        <tbody id="tbody"><tr><td class="empty" colspan="7">No reports yet.</td></tr></tbody>
      </table>
    </section>
  </main>
  <script>
    const KEY='wh_receiving_v1';
    const read=()=>JSON.parse(localStorage.getItem(KEY)||'[]');
    const write=a=>localStorage.setItem(KEY,JSON.stringify(a));
    const uid=()=>Date.now().toString(36);

    const $=id=>document.getElementById(id);
    $('saveBtn').onclick=()=>{
      const obj={id:uid(),date:$('date').value,po:$('po').value,part:$('part').value,heat:$('heat').value,qty:$('qty').value,recvBy:$('recvBy').value,notes:$('notes').value};
      const all=read(); all.push(obj); write(all); render();
    };

    function render(){
      const rows=read(); const tb=$('tbody'); tb.innerHTML='';
      if(!rows.length){tb.innerHTML='<tr><td class="empty" colspan="7">No reports yet.</td></tr>';return;}
      for(const r of rows){tb.innerHTML+=`<tr><td>${r.id}</td><td>${r.date}</td><td>${r.po}</td><td>${r.part}</td><td>${r.heat}</td><td>${r.qty}</td><td>${r.recvBy}</td></tr>`;}
    }
    render();
  </script>
</body>
</html>
